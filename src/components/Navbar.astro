---
import Button from "../components/Buttons.astro";

const navItems = [
    { name: "Inicio", url: "/" },
    { name: "Productos", url: "/products" },
    { name: "Blog Educativo", url: "/blog" },
    { name: "Contacto", url: "/contact" },
];

const currentPath = Astro.url.pathname;
---


<nav >
    <div class="max-w-screen-xl flex flex-wrap items-center justify-between mx-auto p-4">
        <!-- Logo -->
        <a href="/" class="flex items-center space-x-3 rtl:space-x-reverse">
            <img src="/favicon.png" class="h-12" alt="Logo" />
        </a>

        <!-- Botones derecha -->
        <div class="flex md:order-2 space-x-3 md:space-x-0 rtl:space-x-reverse">
            <Button text="Agendar visita" url="/" variant="primary" />

            <!-- Botón hamburguesa -->
            <button id="menu-toggle" type="button" class="inline-flex items-center p-2 w-10 h-10 justify-center 
                text-sm text-gray-500 rounded-lg md:hidden hover:bg-gray-100" aria-controls="navbar-cta" aria-expanded="false">

                <svg class="w-5 h-5" aria-hidden="true" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 17 14">
                    <path stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="2" 
                    d="M1 1h15M1 7h15M1 13h15"/>
                </svg>
            </button>
        </div>

        <!-- Menú colapsable -->
        <div id="navbar-cta" class="items-center justify-between hidden w-full md:flex md:w-auto md:order-1">
            <ul class="flex flex-col font-medium md:p-0 mt-4 rounded-lg md:space-x-8 rtl:space-x-reverse md:flex-row md:mt-0 md:border-0 md:bg-white text-center">
                {navItems.map(item => (
                    <li>
                    <a 
                        href={item.url} 
                        class={`block py-2 px-3 md:p-0 rounded-sm ${
                        currentPath === item.url 
                            ? "text-white bg-primary md:bg-transparent md:text-primary md:hover:text-primary-dark font-bold" 
                            : "text-gray-900 hover:bg-gray-100 md:hover:bg-transparent md:hover:text-primary-dark"
                        }`}
                        aria-current={currentPath === item.url ? "page" : undefined}
                    >
                        {item.name}
                    </a>
                    </li>
                ))}
            </ul>
        </div>
    </div>
</nav>

<script>
    const menuToggle = document.getElementById("menu-toggle");
    if (menuToggle) {
        menuToggle.addEventListener("click", () => {
        const menu = document.getElementById("navbar-cta");
        if (menu) {
            menu.classList.toggle("hidden");
        }
        });
    }
</script>

