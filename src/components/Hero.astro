---
import { Image } from 'astro:assets';
import { FlipWords } from "./ui/flip-words";
import { FlipImages } from "./FlipImages";
import { AppointmentLinkButton, WhatsappLinkButton } from "./LinkButtons";
import details from '../data/details.json' assert { type: 'json' };

const words = ["mascota", "gato", "perro"];
const duration = 2_500;
const heroImages = [
    {src: "/dogs-800-smaller.png", alt: "Gato y Perro", scale: 1.0, objectPosition: "center"},
    {src: "/cat-800-smaller.png", alt: "Gato", scale: 1.0, objectPosition: "center"},
    {src: "/dog-800-smaller.png", alt: "Perro", scale: 1.0, objectPosition: "center"}
];
---
<section class="relative bg-primary-dark text-white rounded-2xl shadow-lg overflow-hidden min-h-[70vh] h-full max-h-[646px]">

	<FlipImages
            client:load
            images={heroImages}
            duration={duration}
            className="absolute inset-0 w-full h-full lg:hidden z-0"
            imgClassName="object-cover"
            edgeFadeLeft={true}
            edgeFadeWidth={96}
    />
	<noscript>
		<Image
				src="/portrait-dog.webp"
				alt="Perro"
				class="absolute inset-0 w-full h-full object-cover lg:hidden z-0"
				width={800}
				height={600}
				loading='eager'
		/>
	</noscript>

	<div class="hidden lg:block absolute top-0 right-0 h-full z-0 w-[55%] max-w-[900px]">
		<FlipImages
                client:load
                images={heroImages}
                duration={duration}
                className="absolute inset-0 h-full w-full"
                imgClassName="object-cover"
                edgeFadeLeft={true}
                edgeFadeWidth={128}
        />
		<noscript>
			<Image
					src="/portrait-dog.webp"
					alt="Perro"
					width={800}
					height={800}
					loading='eager'
					class="h-full object-cover"
			/>
		</noscript>
	</div>

    {/* Gradient Overlay */}
	<div class="absolute inset-0 z-10
        bg-gradient-to-t from-black/90 via-black/60 to-transparent 
        lg:from-black/70 lg:via-black/30 lg:to-transparent">
	</div>

	<div class="relative z-20 max-w-screen-xl mx-auto px-6 sm:px-8 flex lg:flex-row items-center min-h-[70vh]">

		<div class="w-full xl:w-3/5 lg:w-4/5 text-center lg:text-left flex flex-col justify-center items-center lg:items-start lg:py-32 lg:space-y-5 space-y-10">

			<div class="flex flex-col justify-center items-center lg:items-start lg:pl-4">
				<h1 class="text-4xl lg:text-6xl leading-snug sm:leading-tight lg:pt-0 pt-12">
                    <span>
                        Tu<noscript> mascota</noscript><FlipWords words={words} duration={duration} client:load
																  className="font-medium text-neutral"/>
                    </span>
					<br>
					<span>merece lo mejor</span>, nosotros se lo damos
				</h1>
				<p class="mt-4 text-xl">
					Reserva tu cita aqu√≠ de manera online
				</p>
			</div>

			<div class="flex flex-col sm:flex-row justify-center lg:justify-start gap-4 sm:gap-6 w-full md:w-auto lg:pl-2 xl:pl-4 items-center">
                <AppointmentLinkButton />
                <WhatsappLinkButton whatsAppNumber={details.whatsAppNumber}>
					<Image
							src="/WhatsApp.svg"
							alt="WhatsApp Icon"
							width={24}
							height={24}
							class="inline-block -mt-[2px]"
							loading="eager"
					/>
                </WhatsappLinkButton>
			</div>

		</div>

	</div>

</section>
